"use strict";(self.webpackChunkssr=self.webpackChunkssr||[]).push([[9182],{"./.storybook/StoreDecorator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>StoreDecorator});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/redux/es/redux.js"),redux_thunk__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/redux-thunk/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function StoreDecorator(Story,context){var _customState$messages;const{parameters}=context,customState=parameters.state;__webpack_require__.g.__isBrowser__=!0,__webpack_require__.g.__localMode__=!1;const initialState={...customState,app:{isShowSpinner:!1,isShowModal:!1,...null==customState?void 0:customState.app},auth:{countryId:"GB",...null==customState?void 0:customState.auth},messages:{pageMessages:{accountsNoConnectionTitle:"No connection",tryAgain:"Try again",...null==customState||null===(_customState$messages=customState.messages)||void 0===_customState$messages?void 0:_customState$messages.pageMessages},jsMessages:{"site.js.validation.valid.error":"Поле заполнено неверно. Повторите ввод."}}},store=(0,redux__WEBPACK_IMPORTED_MODULE_2__.MT)((function reducer(){let state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,state}),initialState,(0,redux__WEBPACK_IMPORTED_MODULE_2__.md)(redux_thunk__WEBPACK_IMPORTED_MODULE_3__.Z));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.VK,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_0__.zt,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})})}StoreDecorator.displayName="StoreDecorator",StoreDecorator.__docgenInfo={description:"",methods:[],displayName:"StoreDecorator"}},"./src/stories/form/SwitchInput.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SwitchInput_stories});__webpack_require__("./node_modules/react/index.js");var StoreDecorator=__webpack_require__("./.storybook/StoreDecorator.js"),Row=__webpack_require__("./src/components/common/Layout/Row.jsx"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),utils=__webpack_require__("./src/components/form-multi/utils.js"),formAction=__webpack_require__("./src/actions/formAction.js"),colors=__webpack_require__("./src/theme/colors.js"),Text=__webpack_require__("./src/components/common/Text/Text.jsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const SwitchInputBlock=styled_components_browser_esm.ZP.div.withConfig({displayName:"SwitchInput__SwitchInputBlock",componentId:"sc-1aiqrdd-0"})(["padding:20px 0;display:flex;justify-content:space-between;"]),SwitchCheckbox=styled_components_browser_esm.ZP.input.withConfig({displayName:"SwitchInput__SwitchCheckbox",componentId:"sc-1aiqrdd-1"})(["opacity:0;position:absolute;z-index:-1;"]),SwitchControl=styled_components_browser_esm.ZP.label.withConfig({displayName:"SwitchInput__SwitchControl",componentId:"sc-1aiqrdd-2"})(["display:inline-block;position:relative;width:48px;height:28px;margin-left:24px;cursor:",";&::before{background-color:",";border-radius:14px;content:'';height:100%;right:0;position:absolute;top:0;width:100%;transition-duration:0.15s;transition-property:background-color;}&::after{background-color:",";border-radius:50%;content:'';height:20px;left:4px;position:absolute;top:4px;width:20px;}"],(props=>props.isDisabled?"default":"pointer"),colors.Z.lightGray,colors.Z.white),SwitchWrapper=styled_components_browser_esm.ZP.div.withConfig({displayName:"SwitchInput__SwitchWrapper",componentId:"sc-1aiqrdd-3"})(["opacity:",";pointer-events:",";",":checked + "," ","{&::before{background-color:",";}&::after{left:auto;right:4px;}}"],(props=>props.isDisabled?"0.4":null),(props=>props.isDisabled?"none":null),SwitchCheckbox,SwitchInputBlock,SwitchControl,colors.Z.purple),SwitchInput=_ref=>{let{field,formName,changeFormField,onChangeHandler,...props}=_ref;const isChecked="true"===field.value||!0===field.value;return(0,jsx_runtime.jsxs)(SwitchWrapper,{isDisabled:props.isDisabled,children:[(0,jsx_runtime.jsx)(SwitchCheckbox,{name:field.name,type:"checkbox",checked:isChecked,onChange:()=>{}}),(0,jsx_runtime.jsxs)(SwitchInputBlock,{onClick:e=>{e.preventDefault();const value=("false"!==field.value||"string"!=typeof field.value)&&field.value;(0,utils.Ql)(formName,!value,field,changeFormField).then((()=>{onChangeHandler&&onChangeHandler()}))},children:[(0,jsx_runtime.jsx)(Text.x,{variant:"div",children:field.placeholder}),(0,jsx_runtime.jsx)(SwitchControl,{isDisabled:props.isDisabled})]})]})};SwitchInput.displayName="SwitchInput",SwitchInput.propTypes={isDisabled:prop_types_default().bool},SwitchInput.__docgenInfo={description:"",methods:[],displayName:"SwitchInput",props:{isDisabled:{description:"",type:{name:"bool"},required:!1}}};const form_SwitchInput=(0,es.$j)(null,{changeFormField:formAction.Qd})(SwitchInput);var _Example$parameters,_Example$parameters2;const SwitchInput_stories={title:"Form Components/SwitchInput",component:form_SwitchInput,decorators:[StoreDecorator.Z],parameters:{state:{form:{InputForm:{fields:{}}}}}},Template=args=>(0,jsx_runtime.jsx)(Row.X,{indent:"24px",children:(0,jsx_runtime.jsx)(form_SwitchInput,{formName:"InputForm",...args})});Template.displayName="Template";const Example=Template.bind({});Example.args={field:{placeholder:"Input placeholder",value:!1}},Example.parameters={...Example.parameters,docs:{...null===(_Example$parameters=Example.parameters)||void 0===_Example$parameters?void 0:_Example$parameters.docs,source:{originalSource:"args => <Row indent=\"24px\">\n        <SwitchInput formName={'InputForm'} {...args} />\n    </Row>",...null===(_Example$parameters2=Example.parameters)||void 0===_Example$parameters2||null===(_Example$parameters2=_Example$parameters2.docs)||void 0===_Example$parameters2?void 0:_Example$parameters2.source}}};const __namedExportsOrder=["Example"]},"./src/actions/formAction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Az:()=>changeFormFieldValue,DV:()=>updateFields,HU:()=>removeFields,Qd:()=>changeFormField,YK:()=>setFieldVisible,Yq:()=>setFieldError,ZD:()=>setNewForm,zt:()=>scrollToField});__webpack_require__("./src/constants/Constants.js"),__webpack_require__("./src/constants/fieldsName.js"),__webpack_require__("./src/helpers/utils.js");const getClearFieldName=fieldName=>{if(-1===fieldName.indexOf("toValues["))return fieldName;{const m=fieldName.match("toValues\\[(.*)\\]");return m&&m[1]?m[1]:fieldName}},setFieldVisible=function(formName,fieldName){let visible=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return dispatch=>Promise.resolve(dispatch({type:"SET_FIELD_VISIBLE",formName,fieldName,visible}))},scrollToField=(formName,fieldName)=>dispatch=>(dispatch({type:"SCROLL_TO_FIELD",formName,fieldName}),setTimeout((()=>dispatch({type:"SCROLL_TO_FIELD",formName,fieldName:null})),1e3),Promise.resolve()),setFieldError=(formName,fieldName,error)=>dispatch=>Promise.resolve(dispatch({type:"SET_FIELD_ERROR",formName,fieldName:getClearFieldName(fieldName),error})),changeFormField=(formName,field)=>dispatch=>Promise.resolve(dispatch({type:"CHANGE_FIELD",formName,field})),changeFormFieldValue=(formName,value,fieldName)=>dispatch=>Promise.resolve(dispatch({type:"CHANGE_FIELD_VALUE",formName,value,fieldName:getClearFieldName(fieldName)})),setNewForm=function(formName){let fields=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},action=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",visibleFields=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return dispatch=>Promise.resolve(dispatch({type:"SET_NEW_FORM",formName,fields,action,visibleFields}))},updateFields=function(formName){let fields=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},newfields={};return Array.isArray(fields)?fields.forEach((f=>{newfields[f.name]=f})):newfields=fields,dispatch=>Promise.resolve(dispatch({type:"UPDATE_FIELDS",formName,fields:newfields}))},removeFields=function(formName){let fieldNames=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return dispatch=>Promise.resolve(dispatch({type:"REMOVE_FIELD",formName,fieldNames}))}},"./src/constants/Constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ASq:()=>XSS_FILTER_OPTIONS,CtM:()=>LOCATION,DiW:()=>VALID_ERROR,GyZ:()=>SUCCESS_TOAST,H8P:()=>SEND,H_b:()=>INFO,Jzs:()=>SOFT_BLOCK,MR9:()=>SUCCESS,P4A:()=>USER_LOGIN_COUNTRY_ID,QYy:()=>CLOUD_FLARE_FAILED_MESSAGE,WKs:()=>ERROR_TOAST,Xuy:()=>SPRING_REDIRECT_HEADER,YSc:()=>CHANGE_IDENT_STATUS,ZaX:()=>REQUEST,f8E:()=>HARD_BLOCK,ihi:()=>PROFILE,jnG:()=>GA_ACCOUNT,pnR:()=>ERROR,sfL:()=>CLOUD_FLARE_SUCCESS_MESSAGE,wy4:()=>XSS_HARSH_FILTER_OPTIONS,x$J:()=>REQ_ERROR,xT1:()=>GA_CARD});const USER_LOGIN_COUNTRY_ID="user_login_country_id",SUCCESS="SUCCESS",INFO="INFO",ERROR="ERROR",SUCCESS_TOAST="SUCCESS_TOAST",CHANGE_IDENT_STATUS="CHANGE_IDENT_STATUS",ERROR_TOAST="ERROR_TOAST",SPRING_REDIRECT_HEADER="spring-redirect-url",LOCATION="location",SEND="SEND",REQUEST="REQUEST",PROFILE="PROFILE",GA_CARD="GA_CARD",GA_ACCOUNT="GA_ACCOUNT",VALID_ERROR="site.js.validation.valid.error",REQ_ERROR="site.js.validation.req.error",SOFT_BLOCK="SOFT_BLOCK",HARD_BLOCK="HARD_BLOCK",XSS_FILTER_OPTIONS={whiteList:{a:["href","title","target","class","style","data-modal-id","data-action-id"],div:["class","style"],article:["class","style"],blockquote:["class","style"],span:["class","style"],i:["class","style"],p:["class","style"],br:["class","style"],b:["class","style"],ul:["class","style"],ol:["class","style","start"],li:["class","style"],strong:["class","style"],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],em:["class","style"],ins:["class","style"],sub:["class","style"],sup:["class","style"],img:["class","style","src"],iframe:["class","style","src"],u:["class","style"],figure:["class","style"],table:["class","style"],thead:["class","style"],tbody:["class","style"],tr:["class","style"],th:["class","style"],td:["class","style"]}},CLOUD_FLARE_SUCCESS_MESSAGE="Challenge solved",CLOUD_FLARE_FAILED_MESSAGE="Challenge failed",XSS_HARSH_FILTER_OPTIONS={whiteList:{span:["class","style"],i:["class","style"],p:["class","style"],br:["class","style"],b:["class","style"],ul:["class","style"],ol:["class","style","start"],li:["class","style"],strong:["class","style"]},stripIgnoreTag:!0}},"./src/helpers/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G$:()=>getBankAlias,HT:()=>timer,NV:()=>random128Hex,TJ:()=>getLangCountryPrefix,UR:()=>toLowerCase,h6:()=>isCardExpired,lK:()=>showErrorType,lY:()=>findErrorCodeAndMessage,p:()=>isSoftOrHardServerError,ve:()=>resolveArguments});__webpack_require__("./node_modules/react/index.js");var _components_common_DiskBadge_DiskBadge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/common/DiskBadge/DiskBadge.jsx"),_constants_Constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/Constants.js"),_constants_UrlConstants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/UrlConstants.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const resolveArguments=function(){let message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",args=arguments.length>1?arguments[1]:void 0;const regex=/\{\d}/g;if(message=null==message?"":message,Array.isArray(args)){let resolveMessage=message;const matchArray=message.match(regex);return matchArray&&(args.forEach(((argument,index)=>{resolveMessage=resolveMessage.replaceAll(`{${index}}`,argument)})),matchArray.length===args.length||__isDev__||(resolveMessage=resolveMessage.replace(regex,""))),resolveMessage}if(isObject(args)){let newMessage;const matchArray=message.match(regex);if(matchArray&&matchArray[0]){const newMessForFirst=message.replaceAll("{0}",args);return matchArray.length>1&&!__isDev__?(newMessage=newMessForFirst.replace(regex,""),newMessage):newMessForFirst}return message}return message},timer=function(timerID,callFun){let delay=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return timerID&&clearTimeout(timerID),timerID=setTimeout((()=>{callFun()}),delay)},isObject=obj=>null!=obj,random128Hex=()=>{const random16Hex=()=>(65536|65536*Math.random()).toString(16).substr(1);return random16Hex()+random16Hex()+"-"+random16Hex()+"-"+random16Hex()+"-"+random16Hex()+"-"+random16Hex()+random16Hex()+random16Hex()},getLangCountryPrefix=(lang,country)=>{let prefix="/";return lang&&"string"==typeof country?prefix=`/${lang}-${country.toLowerCase()}`:lang&&(prefix=`/${lang}`),prefix},toLowerCase=str=>str&&"string"==typeof str?str.toLowerCase():"",getBankAlias=function(alias){let iconName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"card",isDisabled=arguments.length>2?arguments[2]:void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_components_common_DiskBadge_DiskBadge__WEBPACK_IMPORTED_MODULE_1__.b,{variant:alias?"hasBorderedImg":"tertiary",src:alias?`${_constants_UrlConstants__WEBPACK_IMPORTED_MODULE_3__.hjs}/${alias}.png`:null,iconName:alias?null:iconName,isDisabled})};getBankAlias.displayName="getBankAlias";const isCardExpired=card=>{let month,year;const now=new Date,currentYear=parseInt(now.getFullYear().toString().substr(-2)),currentMonth=now.getMonth()+1;return card&&card.cardExpired?(month=parseInt(card.cardExpired.split("/")[0]),year=parseInt(card.cardExpired.split("/")[1])):null!=card&&card.expMonth&&null!=card&&card.expYear&&(month=card.expMonth,year=card.expYear),year<currentYear||currentYear===year&&month<currentMonth},findErrorCodeAndMessage=(messageBodyError,serverErrors,cheque,paymentStatus,serverErrorCode)=>{let errorCode=null,errorMessage=null;return(null==messageBodyError?void 0:messageBodyError.length)>0?messageBodyError.forEach((error=>{errorCode=error.errorCode,errorMessage=error.value})):Object.keys(serverErrors||{}).length>0?Object.values(serverErrors).forEach((errorField=>{errorCode=errorField.code,errorMessage=errorField.body})):null!=cheque&&cheque.errorCode?(errorCode=cheque.errorCode,errorMessage=cheque.errorMessage):null!=paymentStatus&&paymentStatus.errorCode?(errorCode=paymentStatus.errorCode,errorMessage=paymentStatus.message):serverErrorCode&&(errorCode=serverErrorCode.code,errorMessage=serverErrorCode.body),{errorCode,errorMessage}},softBlockErrors=[160,611,612,613,615,616,617,618,619,620,621,622,631,632,634,635,636,637,638,639,640,641,642,644,649,656,6001,6002,6003,6004,6005,6006,6007,6008,6010,6011,6012,6013,6014,6015,6016,6017,6018,6019,6020,6021,6022,6023,6024,6025,6026,6027,6028,6029,6030,6031,6032,6033,6034,6035,6036,6037,6038,6039,6040,6041,6042,6043,6044,6045,6046,6047,6048,6049,6050,6051,6052,6053,6054,6055,6056,6057,6058,6063,6064,6065],hardBlockErrors=[150,153,655,6059,6060,6061,6062],showErrorType=(messageBodyError,serverErrors,chequeError,paymentStatusError,serverErrorCode)=>{const{errorCode}=findErrorCodeAndMessage(messageBodyError,serverErrors,chequeError,paymentStatusError,serverErrorCode);let errorType;return softBlockErrors.includes(errorCode)?errorType=_constants_Constants__WEBPACK_IMPORTED_MODULE_2__.Jzs:hardBlockErrors.includes(errorCode)&&(errorType=_constants_Constants__WEBPACK_IMPORTED_MODULE_2__.f8E),errorType},isSoftOrHardServerError=error=>softBlockErrors.includes(error)||hardBlockErrors.includes(error);getBankAlias.__docgenInfo={description:"",methods:[],displayName:"getBankAlias"}},"./node_modules/immutability-helper/index.js":(module,exports,__webpack_require__)=>{var process=__webpack_require__("./node_modules/process/browser.js");function stringifiable(obj){return"object"!=typeof obj||"toString"in obj?obj:Object.prototype.toString.call(obj).slice(8,-1)}Object.defineProperty(exports,"__esModule",{value:!0});var isProduction="object"==typeof process&&!0;function invariant(condition,message){if(!condition){if(isProduction)throw new Error("Invariant failed");throw new Error(message())}}exports.invariant=invariant;var hasOwnProperty=Object.prototype.hasOwnProperty,splice=Array.prototype.splice,toString=Object.prototype.toString;function type(obj){return toString.call(obj).slice(8,-1)}var assign=Object.assign||function(target,source){return getAllKeys(source).forEach((function(key){hasOwnProperty.call(source,key)&&(target[key]=source[key])})),target},getAllKeys="function"==typeof Object.getOwnPropertySymbols?function(obj){return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj))}:function(obj){return Object.keys(obj)};function copy(object){return Array.isArray(object)?assign(object.constructor(object.length),object):"Map"===type(object)?new Map(object):"Set"===type(object)?new Set(object):object&&"object"==typeof object?assign(Object.create(Object.getPrototypeOf(object)),object):object}var Context=function(){function Context(){this.commands=assign({},defaultCommands),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(x,y){return x===y},this.update.newContext=function(){return(new Context).update}}return Object.defineProperty(Context.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(value){this.update.isEquals=value},enumerable:!0,configurable:!0}),Context.prototype.extend=function(directive,fn){this.commands[directive]=fn},Context.prototype.update=function(object,$spec){var _this=this,spec="function"==typeof $spec?{$apply:$spec}:$spec;Array.isArray(object)&&Array.isArray(spec)||invariant(!Array.isArray(spec),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),invariant("object"==typeof spec&&null!==spec,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(_this.commands).join(", ")+"."}));var nextObject=object;return getAllKeys(spec).forEach((function(key){if(hasOwnProperty.call(_this.commands,key)){var objectWasNextObject=object===nextObject;nextObject=_this.commands[key](spec[key],nextObject,spec,object),objectWasNextObject&&_this.isEquals(nextObject,object)&&(nextObject=object)}else{var nextValueForKey="Map"===type(object)?_this.update(object.get(key),spec[key]):_this.update(object[key],spec[key]),nextObjectValue="Map"===type(nextObject)?nextObject.get(key):nextObject[key];_this.isEquals(nextValueForKey,nextObjectValue)&&(void 0!==nextValueForKey||hasOwnProperty.call(object,key))||(nextObject===object&&(nextObject=copy(object)),"Map"===type(nextObject)?nextObject.set(key,nextValueForKey):nextObject[key]=nextValueForKey)}})),nextObject},Context}();exports.Context=Context;var defaultCommands={$push:function(value,nextObject,spec){return invariantPushAndUnshift(nextObject,spec,"$push"),value.length?nextObject.concat(value):nextObject},$unshift:function(value,nextObject,spec){return invariantPushAndUnshift(nextObject,spec,"$unshift"),value.length?value.concat(nextObject):nextObject},$splice:function(value,nextObject,spec,originalObject){return function invariantSplices(value,spec){invariant(Array.isArray(value),(function(){return"Expected $splice target to be an array; got "+stringifiable(value)})),invariantSplice(spec.$splice)}(nextObject,spec),value.forEach((function(args){invariantSplice(args),nextObject===originalObject&&args.length&&(nextObject=copy(originalObject)),splice.apply(nextObject,args)})),nextObject},$set:function(value,_nextObject,spec){return function invariantSet(spec){invariant(1===Object.keys(spec).length,(function(){return"Cannot have more than one key in an object with $set"}))}(spec),value},$toggle:function(targets,nextObject){invariantSpecArray(targets,"$toggle");var nextObjectCopy=targets.length?copy(nextObject):nextObject;return targets.forEach((function(target){nextObjectCopy[target]=!nextObject[target]})),nextObjectCopy},$unset:function(value,nextObject,_spec,originalObject){return invariantSpecArray(value,"$unset"),value.forEach((function(key){Object.hasOwnProperty.call(nextObject,key)&&(nextObject===originalObject&&(nextObject=copy(originalObject)),delete nextObject[key])})),nextObject},$add:function(values,nextObject,_spec,originalObject){return invariantMapOrSet(nextObject,"$add"),invariantSpecArray(values,"$add"),"Map"===type(nextObject)?values.forEach((function(_a){var key=_a[0],value=_a[1];nextObject===originalObject&&nextObject.get(key)!==value&&(nextObject=copy(originalObject)),nextObject.set(key,value)})):values.forEach((function(value){nextObject!==originalObject||nextObject.has(value)||(nextObject=copy(originalObject)),nextObject.add(value)})),nextObject},$remove:function(value,nextObject,_spec,originalObject){return invariantMapOrSet(nextObject,"$remove"),invariantSpecArray(value,"$remove"),value.forEach((function(key){nextObject===originalObject&&nextObject.has(key)&&(nextObject=copy(originalObject)),nextObject.delete(key)})),nextObject},$merge:function(value,nextObject,_spec,originalObject){return function invariantMerge(target,specValue){invariant(specValue&&"object"==typeof specValue,(function(){return"update(): $merge expects a spec of type 'object'; got "+stringifiable(specValue)})),invariant(target&&"object"==typeof target,(function(){return"update(): $merge expects a target of type 'object'; got "+stringifiable(target)}))}(nextObject,value),getAllKeys(value).forEach((function(key){value[key]!==nextObject[key]&&(nextObject===originalObject&&(nextObject=copy(originalObject)),nextObject[key]=value[key])})),nextObject},$apply:function(value,original){return function invariantApply(fn){invariant("function"==typeof fn,(function(){return"update(): expected spec of $apply to be a function; got "+stringifiable(fn)+"."}))}(value),value(original)}},defaultContext=new Context;function invariantPushAndUnshift(value,spec,command){invariant(Array.isArray(value),(function(){return"update(): expected target of "+stringifiable(command)+" to be an array; got "+stringifiable(value)+"."})),invariantSpecArray(spec[command],command)}function invariantSpecArray(spec,command){invariant(Array.isArray(spec),(function(){return"update(): expected spec of "+stringifiable(command)+" to be an array; got "+stringifiable(spec)+". Did you forget to wrap your parameter in an array?"}))}function invariantSplice(value){invariant(Array.isArray(value),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+stringifiable(value)+". Did you forget to wrap your parameters in an array?"}))}function invariantMapOrSet(target,command){var typeOfTarget=type(target);invariant("Map"===typeOfTarget||"Set"===typeOfTarget,(function(){return"update(): "+stringifiable(command)+" expects a target of type Set or Map; got "+stringifiable(typeOfTarget)}))}exports.isEquals=defaultContext.update.isEquals,exports.extend=defaultContext.extend,exports.default=defaultContext.update,exports.default.default=module.exports=assign(exports.default,exports)}}]);