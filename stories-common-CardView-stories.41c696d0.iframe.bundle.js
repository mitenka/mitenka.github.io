"use strict";(self.webpackChunkssr=self.webpackChunkssr||[]).push([[4146],{"./.storybook/StoreDecorator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>StoreDecorator});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/redux/es/redux.js"),redux_thunk__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/redux-thunk/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function StoreDecorator(Story,context){var _customState$messages;const{parameters}=context,customState=parameters.state;__webpack_require__.g.__isBrowser__=!0,__webpack_require__.g.__localMode__=!1;const initialState={...customState,app:{isShowSpinner:!1,isShowModal:!1,...null==customState?void 0:customState.app},auth:{countryId:"GB",...null==customState?void 0:customState.auth},messages:{pageMessages:{accountsNoConnectionTitle:"No connection",tryAgain:"Try again",...null==customState||null===(_customState$messages=customState.messages)||void 0===_customState$messages?void 0:_customState$messages.pageMessages},jsMessages:{"site.js.validation.valid.error":"Поле заполнено неверно. Повторите ввод."}}},store=(0,redux__WEBPACK_IMPORTED_MODULE_2__.MT)((function reducer(){let state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,state}),initialState,(0,redux__WEBPACK_IMPORTED_MODULE_2__.md)(redux_thunk__WEBPACK_IMPORTED_MODULE_3__.Z));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.VK,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_0__.zt,{store,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})})}StoreDecorator.displayName="StoreDecorator",StoreDecorator.__docgenInfo={description:"",methods:[],displayName:"StoreDecorator"}},"./src/stories/common/CardView.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CardView_stories});__webpack_require__("./node_modules/react/index.js");var StoreDecorator=__webpack_require__("./.storybook/StoreDecorator.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Text=__webpack_require__("./src/components/common/Text/Text.jsx"),styles=__webpack_require__("./src/components/form/styles.jsx"),UrlConstants=__webpack_require__("./src/constants/UrlConstants.js"),utils=__webpack_require__("./src/helpers/utils.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const CardView=_ref=>{var _card$pan;let{card,cardExpDateMessage}=_ref;const clearCardPan=null===(_card$pan=card.pan)||void 0===_card$pan?void 0:_card$pan.replace(/\s/g,"");return(0,jsx_runtime.jsxs)(styles._L,{children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(styles.lS,{children:[(0,jsx_runtime.jsx)(styles.xj,{children:(0,utils.G$)(card.cardLogo,"card",(0,utils.h6)(card))}),card.alias&&(0,jsx_runtime.jsx)(Text.x,{ellipsis:!0,color:(0,utils.h6)(card)?"lightGray":"darkGray",children:card.alias})]})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)(styles.lS,{readOnly:!0,betweenJustify:!0,children:[(0,jsx_runtime.jsx)(styles.vh,{isCardExpired:(0,utils.h6)(card),children:null==clearCardPan?void 0:clearCardPan.slice(0,4)}),(0,jsx_runtime.jsx)(styles.vh,{isCardExpired:(0,utils.h6)(card),children:null==clearCardPan?void 0:clearCardPan.slice(4,8)}),(0,jsx_runtime.jsx)(styles.vh,{isCardExpired:(0,utils.h6)(card),children:null==clearCardPan?void 0:clearCardPan.slice(8,12)}),(0,jsx_runtime.jsx)(styles.vh,{isCardExpired:(0,utils.h6)(card),children:null==clearCardPan?void 0:clearCardPan.slice(12)})]}),(0,jsx_runtime.jsxs)(styles.lS,{betweenJustify:!0,children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(Text.x,{variant:"div",size:"subheader",color:(0,utils.h6)(card)?"lightGray":"mediumGray",children:[cardExpDateMessage," ",card.cardExpired]})}),(0,jsx_runtime.jsx)(styles.Wu,{isCardExpired:(0,utils.h6)(card),children:card.paymentSystem&&card.paymentSystem.length>0&&"other"!==card.paymentSystem&&(0,jsx_runtime.jsx)("img",{src:`${UrlConstants.PJh}/${card.paymentSystem}.svg`,alt:card.paymentSystem})})]})]})]})};CardView.displayName="CardView",CardView.propTypes={card:prop_types_default().object,cardExpDateMessage:prop_types_default().string},CardView.__docgenInfo={description:"",methods:[],displayName:"CardView",props:{card:{description:"",type:{name:"object"},required:!1},cardExpDateMessage:{description:"",type:{name:"string"},required:!1}}};const Card_CardView=CardView;var _Example$parameters,_Example$parameters2;const CardView_stories={title:"Common Components/CardView",component:Card_CardView,decorators:[StoreDecorator.Z]},Template=args=>(0,jsx_runtime.jsx)(Card_CardView,{...args});Template.displayName="Template";const Example=Template.bind({});Example.args={cardExpDateMessage:"EXP. DATE",card:{type:"CARD",alias:"Card",description:" 4795",cardExpired:"09/23",pan:"530185 ······ 4795",paymentSystem:"mastercard"}},Example.parameters={...Example.parameters,docs:{...null===(_Example$parameters=Example.parameters)||void 0===_Example$parameters?void 0:_Example$parameters.docs,source:{originalSource:"args => <CardView {...args} />",...null===(_Example$parameters2=Example.parameters)||void 0===_Example$parameters2||null===(_Example$parameters2=_Example$parameters2.docs)||void 0===_Example$parameters2?void 0:_Example$parameters2.source}}};const __namedExportsOrder=["Example"]},"./src/components/form/styles.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Wu:()=>LogoPaysystem,_L:()=>CardContainer,lS:()=>CardRow,vh:()=>CardNumberBlock,xj:()=>BankLogoContainer});var styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_theme_colors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/theme/colors.js"),_theme_media__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/theme/media.js"),_common_Text_Text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/common/Text/Text.jsx");const CardContainer=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__CardContainer",componentId:"sc-10ufn9q-0"})(["min-height:218px;box-sizing:border-box;margin-bottom:8px;padding:24px;border:1px solid ",";border-radius:12px;display:flex;flex-direction:column;justify-content:space-between;","{min-height:296px;padding:32px;border-radius:16px;margin-bottom:16px;}"],_theme_colors__WEBPACK_IMPORTED_MODULE_0__.Z.greyRgba28,_theme_media__WEBPACK_IMPORTED_MODULE_1__.Z.tablet720),CardRow=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__CardRow",componentId:"sc-10ufn9q-1"})(["display:",";align-items:",";justify-content:",";margin-bottom:",";&:last-child{margin-bottom:0;}","{margin-bottom:",";}"],(props=>props.fullwidth?"block":"flex"),(props=>props.fullwidth?null:"center"),(props=>props.fullwidth?null:props.betweenJustify?"space-between":"start"),(props=>props.readOnly?"32px":"24px"),_theme_media__WEBPACK_IMPORTED_MODULE_1__.Z.tablet720,(props=>props.readOnly?"60px":"32px")),CardNumberBlock=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__CardNumberBlock",componentId:"sc-10ufn9q-2"})(["letter-spacing:0.5em;color:",";","{font-size:20px;line-height:32px;}"],(props=>props.isCardExpired?_theme_colors__WEBPACK_IMPORTED_MODULE_0__.Z.lightGray:_theme_colors__WEBPACK_IMPORTED_MODULE_0__.Z.baseColor),_theme_media__WEBPACK_IMPORTED_MODULE_1__.Z.tablet720),BankLogoContainer=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__BankLogoContainer",componentId:"sc-10ufn9q-3"})(["display:inline-flex;margin-right:16px;","{margin-right:24px;}"],_theme_media__WEBPACK_IMPORTED_MODULE_1__.Z.tablet720),LogoPaysystem=(styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__CardPanField",componentId:"sc-10ufn9q-4"})(["flex:1;"]),styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__CardExpiredDate",componentId:"sc-10ufn9q-5"})(["width:80px;margin-left:24px;flex-shrink:0;","{width:92px;}"],_theme_media__WEBPACK_IMPORTED_MODULE_1__.Z.desktop1920),styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__CardCvv",componentId:"sc-10ufn9q-6"})(["width:80px;margin-left:24px;flex-shrink:0;","{width:92px;}"],_theme_media__WEBPACK_IMPORTED_MODULE_1__.Z.desktop1920),styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div.withConfig({displayName:"styles__LogoPaysystem",componentId:"sc-10ufn9q-7"})(["display:inline-flex;height:24px;opacity:",";"],(props=>props.isCardExpired?"0.48":null)));(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP)(_common_Text_Text__WEBPACK_IMPORTED_MODULE_2__.x).withConfig({displayName:"styles__HelpMessage",componentId:"sc-10ufn9q-8"})(["margin:0 16px 8px 16px;","{margin:0 24px 16px 24px;}"],_theme_media__WEBPACK_IMPORTED_MODULE_1__.Z.tablet720)},"./src/constants/Constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ASq:()=>XSS_FILTER_OPTIONS,CtM:()=>LOCATION,DiW:()=>VALID_ERROR,GyZ:()=>SUCCESS_TOAST,H8P:()=>SEND,H_b:()=>INFO,Jzs:()=>SOFT_BLOCK,MR9:()=>SUCCESS,P4A:()=>USER_LOGIN_COUNTRY_ID,QYy:()=>CLOUD_FLARE_FAILED_MESSAGE,WKs:()=>ERROR_TOAST,Xuy:()=>SPRING_REDIRECT_HEADER,YSc:()=>CHANGE_IDENT_STATUS,ZaX:()=>REQUEST,f8E:()=>HARD_BLOCK,ihi:()=>PROFILE,jnG:()=>GA_ACCOUNT,pnR:()=>ERROR,sfL:()=>CLOUD_FLARE_SUCCESS_MESSAGE,wy4:()=>XSS_HARSH_FILTER_OPTIONS,x$J:()=>REQ_ERROR,xT1:()=>GA_CARD});const USER_LOGIN_COUNTRY_ID="user_login_country_id",SUCCESS="SUCCESS",INFO="INFO",ERROR="ERROR",SUCCESS_TOAST="SUCCESS_TOAST",CHANGE_IDENT_STATUS="CHANGE_IDENT_STATUS",ERROR_TOAST="ERROR_TOAST",SPRING_REDIRECT_HEADER="spring-redirect-url",LOCATION="location",SEND="SEND",REQUEST="REQUEST",PROFILE="PROFILE",GA_CARD="GA_CARD",GA_ACCOUNT="GA_ACCOUNT",VALID_ERROR="site.js.validation.valid.error",REQ_ERROR="site.js.validation.req.error",SOFT_BLOCK="SOFT_BLOCK",HARD_BLOCK="HARD_BLOCK",XSS_FILTER_OPTIONS={whiteList:{a:["href","title","target","class","style","data-modal-id","data-action-id"],div:["class","style"],article:["class","style"],blockquote:["class","style"],span:["class","style"],i:["class","style"],p:["class","style"],br:["class","style"],b:["class","style"],ul:["class","style"],ol:["class","style","start"],li:["class","style"],strong:["class","style"],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],em:["class","style"],ins:["class","style"],sub:["class","style"],sup:["class","style"],img:["class","style","src"],iframe:["class","style","src"],u:["class","style"],figure:["class","style"],table:["class","style"],thead:["class","style"],tbody:["class","style"],tr:["class","style"],th:["class","style"],td:["class","style"]}},CLOUD_FLARE_SUCCESS_MESSAGE="Challenge solved",CLOUD_FLARE_FAILED_MESSAGE="Challenge failed",XSS_HARSH_FILTER_OPTIONS={whiteList:{span:["class","style"],i:["class","style"],p:["class","style"],br:["class","style"],b:["class","style"],ul:["class","style"],ol:["class","style","start"],li:["class","style"],strong:["class","style"]},stripIgnoreTag:!0}},"./src/helpers/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G$:()=>getBankAlias,HT:()=>timer,NV:()=>random128Hex,TJ:()=>getLangCountryPrefix,UR:()=>toLowerCase,h6:()=>isCardExpired,lK:()=>showErrorType,lY:()=>findErrorCodeAndMessage,p:()=>isSoftOrHardServerError,ve:()=>resolveArguments});__webpack_require__("./node_modules/react/index.js");var _components_common_DiskBadge_DiskBadge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/common/DiskBadge/DiskBadge.jsx"),_constants_Constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/Constants.js"),_constants_UrlConstants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/UrlConstants.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const resolveArguments=function(){let message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",args=arguments.length>1?arguments[1]:void 0;const regex=/\{\d}/g;if(message=null==message?"":message,Array.isArray(args)){let resolveMessage=message;const matchArray=message.match(regex);return matchArray&&(args.forEach(((argument,index)=>{resolveMessage=resolveMessage.replaceAll(`{${index}}`,argument)})),matchArray.length===args.length||__isDev__||(resolveMessage=resolveMessage.replace(regex,""))),resolveMessage}if(isObject(args)){let newMessage;const matchArray=message.match(regex);if(matchArray&&matchArray[0]){const newMessForFirst=message.replaceAll("{0}",args);return matchArray.length>1&&!__isDev__?(newMessage=newMessForFirst.replace(regex,""),newMessage):newMessForFirst}return message}return message},timer=function(timerID,callFun){let delay=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return timerID&&clearTimeout(timerID),timerID=setTimeout((()=>{callFun()}),delay)},isObject=obj=>null!=obj,random128Hex=()=>{const random16Hex=()=>(65536|65536*Math.random()).toString(16).substr(1);return random16Hex()+random16Hex()+"-"+random16Hex()+"-"+random16Hex()+"-"+random16Hex()+"-"+random16Hex()+random16Hex()+random16Hex()},getLangCountryPrefix=(lang,country)=>{let prefix="/";return lang&&"string"==typeof country?prefix=`/${lang}-${country.toLowerCase()}`:lang&&(prefix=`/${lang}`),prefix},toLowerCase=str=>str&&"string"==typeof str?str.toLowerCase():"",getBankAlias=function(alias){let iconName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"card",isDisabled=arguments.length>2?arguments[2]:void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_components_common_DiskBadge_DiskBadge__WEBPACK_IMPORTED_MODULE_1__.b,{variant:alias?"hasBorderedImg":"tertiary",src:alias?`${_constants_UrlConstants__WEBPACK_IMPORTED_MODULE_3__.hjs}/${alias}.png`:null,iconName:alias?null:iconName,isDisabled})};getBankAlias.displayName="getBankAlias";const isCardExpired=card=>{let month,year;const now=new Date,currentYear=parseInt(now.getFullYear().toString().substr(-2)),currentMonth=now.getMonth()+1;return card&&card.cardExpired?(month=parseInt(card.cardExpired.split("/")[0]),year=parseInt(card.cardExpired.split("/")[1])):null!=card&&card.expMonth&&null!=card&&card.expYear&&(month=card.expMonth,year=card.expYear),year<currentYear||currentYear===year&&month<currentMonth},findErrorCodeAndMessage=(messageBodyError,serverErrors,cheque,paymentStatus,serverErrorCode)=>{let errorCode=null,errorMessage=null;return(null==messageBodyError?void 0:messageBodyError.length)>0?messageBodyError.forEach((error=>{errorCode=error.errorCode,errorMessage=error.value})):Object.keys(serverErrors||{}).length>0?Object.values(serverErrors).forEach((errorField=>{errorCode=errorField.code,errorMessage=errorField.body})):null!=cheque&&cheque.errorCode?(errorCode=cheque.errorCode,errorMessage=cheque.errorMessage):null!=paymentStatus&&paymentStatus.errorCode?(errorCode=paymentStatus.errorCode,errorMessage=paymentStatus.message):serverErrorCode&&(errorCode=serverErrorCode.code,errorMessage=serverErrorCode.body),{errorCode,errorMessage}},softBlockErrors=[160,611,612,613,615,616,617,618,619,620,621,622,631,632,634,635,636,637,638,639,640,641,642,644,649,656,6001,6002,6003,6004,6005,6006,6007,6008,6010,6011,6012,6013,6014,6015,6016,6017,6018,6019,6020,6021,6022,6023,6024,6025,6026,6027,6028,6029,6030,6031,6032,6033,6034,6035,6036,6037,6038,6039,6040,6041,6042,6043,6044,6045,6046,6047,6048,6049,6050,6051,6052,6053,6054,6055,6056,6057,6058,6063,6064,6065],hardBlockErrors=[150,153,655,6059,6060,6061,6062],showErrorType=(messageBodyError,serverErrors,chequeError,paymentStatusError,serverErrorCode)=>{const{errorCode}=findErrorCodeAndMessage(messageBodyError,serverErrors,chequeError,paymentStatusError,serverErrorCode);let errorType;return softBlockErrors.includes(errorCode)?errorType=_constants_Constants__WEBPACK_IMPORTED_MODULE_2__.Jzs:hardBlockErrors.includes(errorCode)&&(errorType=_constants_Constants__WEBPACK_IMPORTED_MODULE_2__.f8E),errorType},isSoftOrHardServerError=error=>softBlockErrors.includes(error)||hardBlockErrors.includes(error);getBankAlias.__docgenInfo={description:"",methods:[],displayName:"getBankAlias"}}}]);